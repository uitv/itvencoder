#
# key/value type configure.
# the configure file is created by encoder customizer, end-user isn't allowed to modify the configure file directly.
# end-user can modify the configure item by web ui or command line tools.
# <type definition>value</type> style value is modifiable.
# types: select option ipaddr number string
#
[server]
# http streaming server
httpstreaming = <var name="streaming address" type="string">0.0.0.0:20119</var>

# http managment server
httpmgmt = <var name="management address" type="string">0.0.0.0:20118</var> # test regex <ipaddr>value</ipaddr>

# log dirctory
logdir = /var/log/itvencoder

# pid file path
pidfile = /var/run/itvencoder.pid

[channels]
channel0 = {
    enable = <var name="enable" type="option">yes</var>
    debug=itvencoder:3

    # source pipeline defination
    source = {
        udpsrc = {
            property = {
                uri = <var name="udp source address" type="string">udp://127.0.0.1:6002</var>
            }
        }

        deinterlace = {
            property = {
                method = 0
                fields = 1
            }
        }

        audioconvert = {
            caps = audio/x-raw-int,width=16,depth=16,rate=48000,channels=2,endianness=1234
        }


        appsink = {
            property = {
               sync = FALSE
               drop = TRUE
            }
        }

        # element can be customized by elemment(property=vlue, ...)
        bins = {
            mpegtsdemuxer = {
                # dont link a sometimes pad directly.
                definition = udpsrc ! queue ! mpegtsdemux name=demuxer
            }
            video = {
                definition = demuxer.<var name="video pid" type="string">video_18c4</var> ! queue ! <var name="video decoder" type="[h264dec, ffdec_mpeg2video]">ffdec_mpeg2video</var> ! queue ! appsink
            }
            audio_english = {
                definition = demuxer.<var name="audio pid" type="string">audio_18c5</var> ! queue ! <var name="audio decoder" type="[mad, ffdec_ac3]">ffdec_ac3</var> ! queue ! appsink
            }
        }
    }

    # encoder pipeline defination
    encoders = {
        encoder1 = {
            appsrc = {
                property = {
                    is-live = TRUE
                }
            }

            videoscale = {
                caps = video/x-raw-yuv,width=<var name="width" type="number">1280</var>,height=<var name="height" type="number">720</var>
            }

            # x264 encoder element
            x264enc = {
                property = {
                    name = x264enc
                    bitrate = <var name="bitrate" type="number">1500</var>
                    byte-stream = TRUE
                    sync-lookahead = 20
                    key-int-max = 250
                    key-int-min = 250
                    dct8x8 = TRUE
                    psy-tune = film
                    subme = 5
                    qp-min = 1
                    qp-step = 8
                    pass = 17
                    threads = 24
                    bframes = 3
                    profile = <var name="profile" type="[baseline, main, high]">high</var>
                }
            }

            # faac audio encoder
            faac = {
                property = {
                    name = faac
                    outputformat = 1
                }
            }

            # mpeg2 ts mux
            mpegtsmux = {
                property = {
                    name = muxer
                }
            }

            appsink = {
                property = {
                    sync = FALSE
                }
            }

            bins = {
                video = {
                    definition = appsrc    name=video ! queue ! videoscale ! queue ! x264enc ! queue ! muxer.
                }
                audio_english = {
                    definition = appsrc name=audio_english ! audioconvert ! faac name=faac1 ! queue ! muxer.
                }
                muxer = {
                    definition = mpegtsmux name=muxer ! queue ! appsink
                }
            }
        }

        encoder2 = {
            appsrc = {
                property = {
                    is-live = TRUE
                }
            }

            videoscale = {
                caps = video/x-raw-yuv,width=<var name="width" type="number">720</var>,height=<var name="height" type="number">576</var>
            }

            # x264 encoder element
            x264enc = {
                property = {
                    name = x264enc
                    bitrate = <var name="bitrate" type="number">1200</var>
                    byte-stream = TRUE
                    sync-lookahead = 20
                    key-int-max = 250
                    key-int-min = 250
                    dct8x8 = TRUE
                    psy-tune = film
                    subme = 5
                    qp-min = 1
                    qp-step = 8
                    pass = 17
                    threads = 24
                    bframes = 3
                    profile = <var name="profile" type="[baseline, main, high]">high</var>
                }
            }

            # faac audio encoder
            faac = {
                property = {
                    name = faac
                    outputformat = 1
                }
            }

            # mpeg2 ts mux
            mpegtsmux = {
                property = {
                    name = muxer
                }
            }

            appsink = {
                property = {
                    sync = FALSE
                }
            }

            bins = {
                video = {
                    definition = appsrc name=video ! queue ! videoscale ! queue ! x264enc ! queue ! muxer.
                }
                audio_english = {
                    definition = appsrc name=audio_english ! audioconvert ! faac name=faac1 ! queue ! muxer.
                }
                muxer = {
                    definition = mpegtsmux name=muxer ! queue ! appsink
                }
            }
        }

    }
}

channel1 = {
    enable = <var name="enable" type="option">yes</var>
    debug=itvencoder:3

    # source pipeline defination
    source = {
        udpsrc = {
            property = {
                uri = <var name="udpsrc uri" type="string">udp://127.0.0.1:6003</var>
            }
        }

        deinterlace = {
            property = {
                method = 0
                fields = 1
            }
        }

        audioconvert = {
            caps = audio/x-raw-int,width=16,depth=16,rate=48000,channels=2,endianness=1234
        }

        appsink = {
            property = {
               sync = FALSE
               drop = TRUE
            }
        }

        # element can be customized by elemment(property=vlue, ...)
        bins = {
            mpegtsdemuxer = {
                # dont link a sometimes pad directly.
                definition = udpsrc ! mpegtsdemux name=demuxer
            }
            video = {
                definition = demuxer.<var name="video pid" type="string">video_0201</var> ! queue ! <var name="video decoder" type="[h264dec, ffdec_mpeg2video]">h264dec</var> ! queue ! appsink
                option = yes
            }
            audio = {
                definition = demuxer.audio_026d ! queue ! mad ! queue ! appsink
            }
        }
    }

    # encoder pipeline defination
    encoders = {
        encoder1 = {
            appsrc = {
                property = {
                    is-live = TRUE
                }
            }

            videoscale = {
                caps = video/x-raw-yuv,width=<var name="width" type="number">1280</var>,height=<var name="height" type="number">720</var>
            }

            # x264 encoder element
            x264enc = {
                property = {
                    name = x264enc
                    bitrate = <var name="bitrate" type="number">1500</var>
                    byte-stream = TRUE
                    sync-lookahead = 20
                    key-int-max = 250
                    key-int-min = 250
                    dct8x8 = TRUE
                    psy-tune = film
                    subme = 5
                    qp-min = 1
                    qp-step = 8
                    pass = 17
                    threads = 24
                    bframes = 3
                    profile = <var name="profile" type="[baseline, main, high]">high</var>
                }
            }

            # faac audio encoder
            faac = {
                property = {
                    name = faac
                    outputformat = 1
                }
            }

            # mpeg2 ts mux
            mpegtsmux = {
                property = {
                    name = muxer
                }
            }

            appsink = {
                property = {
                    sync = FALSE
                }
            }

            bins = {
                video = {
                    definition = appsrc name=video ! queue ! videoscale ! queue ! x264enc ! queue ! muxer.
                }
                audio = {
                    definition = appsrc name=audio ! audioconvert ! faac name=faac1 ! queue ! muxer.
                }
                muxer = {
                    definition = mpegtsmux name=muxer ! queue ! appsink
                }
            }
        }
        encoder2 = {
            appsrc = {
                property = {
                    is-live = TRUE
                }
            }

            videoscale = {
                caps = video/x-raw-yuv,width=<var name="width" type="number">720</var>,height=<var name="height" type="number">576</var>
            }

            # x264 encoder element
            x264enc = {
                property = {
                    name = x264enc
                    bitrate = <var name="bitrate" type="number">1200</var>
                    byte-stream = TRUE
                    sync-lookahead = 20
                    key-int-max = 250
                    key-int-min = 250
                    dct8x8 = TRUE
                    psy-tune = film
                    subme = 5
                    qp-min = 1
                    qp-step = 8
                    pass = 17
                    threads = 24
                    bframes = 3
                    profile = <var name="profile" type="[baseline, main, high]">high</var>
                }
            }

            # faac audio encoder
            faac = {
                property = {
                    name = faac
                    outputformat = 1
                }
            }

            # mpeg2 ts mux
            mpegtsmux = {
                property = {
                    name = muxer
                }
            }

            appsink = {
                property = {
                    sync = FALSE
                }
            }

            bins = {
                video = {
                    definition = appsrc name=video ! queue ! videoscale ! queue ! x264enc ! queue ! muxer.
                }
                audio = {
                    definition = appsrc name=audio ! audioconvert ! faac name=faac1 ! queue ! muxer.
                }
                muxer = {
                    definition = mpegtsmux name=muxer ! queue ! appsink
                }
            }
        }
    }
}

channel2 = {
    enable = <var name="enable" type="option">no</var>

    # source pipeline defination
    source = {
        udpsrc = {
            property = {
                uri = <var name="udp source address" type="string">udp://127.0.0.1:6002</var>
            }
        }

        deinterlace = {
            property = {
                method = 0
                fields = 1
            }
        }

        audioconvert = {
            caps = audio/x-raw-int,width=16,depth=16,rate=48000,channels=2,endianness=1234
        }


        appsink = {
            property = {
               sync = FALSE
               drop = TRUE
            }
        }

        # element can be customized by elemment(property=vlue, ...)
        bins = {
            mpegtsdemuxer = {
                # dont link a sometimes pad directly.
                definition = udpsrc ! queue ! mpegtsdemux name=demuxer
            }
            video = {
                definition = demuxer.<var name="video pid" type="string">video_18c4</var> ! queue ! <var name="video decoder" type="[h264dec, ffdec_mpeg2video]">ffdec_mpeg2video</var> ! queue ! appsink
            }
            audio = {
                definition = demuxer.<var name="audio pid" type="string">audio_18c5</var> ! queue ! <var name="audio decoder" type="[mad, ffdec_ac3]">ffdec_ac3</var> ! queue ! appsink
            }
        }
    }

    # encoder pipeline defination
    encoders = {
        encoder1 = {
            appsrc = {
                property = {
                    is-live = TRUE
                }
            }

            videoscale = {
                caps = video/x-raw-yuv,width=<var name="width" type="number">1280</var>,height=<var name="height" type="number">720</var>
            }

            # x264 encoder element
            x264enc = {
                property = {
                    name = x264enc
                    bitrate = <var name="bitrate" type="number">1500</var>
                    byte-stream = TRUE
                    sync-lookahead = 20
                    key-int-max = 250
                    key-int-min = 250
                    dct8x8 = TRUE
                    psy-tune = film
                    subme = 5
                    qp-min = 1
                    qp-step = 8
                    pass = 17
                    threads = 24
                    bframes = 3
                    profile = <var name="profile" type="[baseline, main, high]">high</var>
                }
            }

            # faac audio encoder
            faac = {
                property = {
                    name = faac
                    outputformat = 1
                }
            }

            # mpeg2 ts mux
            mpegtsmux = {
                property = {
                    name = muxer
                }
            }

            appsink = {
                property = {
                    sync = FALSE
                }
            }

            bins = {
                video = {
                    definition = appsrc name=video ! queue ! videoscale ! queue ! x264enc ! queue ! muxer.
                }
                audio = {
                    definition = appsrc name=audio ! audioconvert ! faac name=faac1 ! queue ! muxer.
                }
                muxer = {
                    definition = mpegtsmux name=muxer ! queue ! appsink
                }
            }
        }

        encoder2 = {
            appsrc = {
                property = {
                    is-live = TRUE
                }
            }

            videoscale = {
                caps = video/x-raw-yuv,width=<var name="width" type="number">720</var>,height=<var name="height" type="number">576</var>
            }

            # x264 encoder element
            x264enc = {
                property = {
                    name = x264enc
                    bitrate = <var name="bitrate" type="number">1200</var>
                    byte-stream = TRUE
                    sync-lookahead = 20
                    key-int-max = 250
                    key-int-min = 250
                    dct8x8 = TRUE
                    psy-tune = film
                    subme = 5
                    qp-min = 1
                    qp-step = 8
                    pass = 17
                    threads = 24
                    bframes = 3
                    profile = <var name="profile" type="[baseline, main, high]">high</var>
                }
            }

            # faac audio encoder
            faac = {
                property = {
                    name = faac
                    outputformat = 1
                }
            }

            # mpeg2 ts mux
            mpegtsmux = {
                property = {
                    name = muxer
                }
            }

            appsink = {
                property = {
                    sync = FALSE
                }
            }

            bins = {
                video = {
                    definition = appsrc name=video ! queue ! videoscale ! queue ! x264enc ! queue ! muxer.
                }
                audio = {
                    definition = appsrc name=audio ! audioconvert ! faac name=faac1 ! queue ! muxer.
                }
                muxer = {
                    definition = mpegtsmux name=muxer ! queue ! appsink
                }
            }
        }

    }
}

channel3 = {
    enable = <var name="enable" type="option">no</var>

    # source pipeline defination
    source = {
        udpsrc = {
            property = {
                uri = <var name="udpsrc uri" type="string">udp://127.0.0.1:6003</var>
            }
        }

        deinterlace = {
            property = {
                method = 0
                fields = 1
            }
        }

        audioconvert = {
            caps = audio/x-raw-int,width=16,depth=16,rate=48000,channels=2,endianness=1234
        }

        appsink = {
            property = {
               sync = FALSE
               drop = TRUE
            }
        }

        # element can be customized by elemment(property=vlue, ...)
        bins = {
            mpegtsdemuxer = {
                # dont link a sometimes pad directly.
                definition = udpsrc ! mpegtsdemux name=demuxer
            }
            video = {
                definition = demuxer.<var name="video pid" type="string">video_0201</var> ! queue ! <var name="video decoder" type="[h264dec, ffdec_mpeg2video]">h264dec</var> ! queue ! appsink
                option = yes
            }
            audio = {
                definition = demuxer.audio_026d ! queue ! mad ! queue ! appsink
            }
        }
    }

    # encoder pipeline defination
    encoders = {
        encoder1 = {
            appsrc = {
                property = {
                    is-live = TRUE
                }
            }

            videoscale = {
                caps = video/x-raw-yuv,width=<var name="width" type="number">1280</var>,height=<var name="height" type="number">720</var>
            }

            # x264 encoder element
            x264enc = {
                property = {
                    name = x264enc
                    bitrate = <var name="bitrate" type="number">1500</var>
                    byte-stream = TRUE
                    sync-lookahead = 20
                    key-int-max = 250
                    key-int-min = 250
                    dct8x8 = TRUE
                    psy-tune = film
                    subme = 5
                    qp-min = 1
                    qp-step = 8
                    pass = 17
                    threads = 24
                    bframes = 3
                    profile = <var name="profile" type="[baseline, main, high]">high</var>
                }
            }

            # faac audio encoder
            faac = {
                property = {
                    name = faac
                    outputformat = 1
                }
            }

            # mpeg2 ts mux
            mpegtsmux = {
                property = {
                    name = muxer
                }
            }

            appsink = {
                property = {
                    sync = FALSE
                }
            }

            bins = {
                video = {
                    definition = appsrc name=video ! queue ! videoscale ! queue ! x264enc ! queue ! muxer.
                }
                audio = {
                    definition = appsrc name=audio ! audioconvert ! faac name=faac1 ! queue ! muxer.
                }
                muxer = {
                    definition = mpegtsmux name=muxer ! queue ! appsink
                }
            }
        }
        encoder2 = {
            appsrc = {
                property = {
                    is-live = TRUE
                }
            }

            videoscale = {
                caps = video/x-raw-yuv,width=<var name="width" type="number">720</var>,height=<var name="height" type="number">576</var>
            }

            # x264 encoder element
            x264enc = {
                property = {
                    name = x264enc
                    bitrate = <var name="bitrate" type="number">1200</var>
                    byte-stream = TRUE
                    sync-lookahead = 20
                    key-int-max = 250
                    key-int-min = 250
                    dct8x8 = TRUE
                    psy-tune = film
                    subme = 5
                    qp-min = 1
                    qp-step = 8
                    pass = 17
                    threads = 24
                    bframes = 3
                    profile = <var name="profile" type="[baseline, main, high]">high</var>
                }
            }

            # faac audio encoder
            faac = {
                property = {
                    name = faac
                    outputformat = 1
                }
            }

            # mpeg2 ts mux
            mpegtsmux = {
                property = {
                    name = muxer
                }
            }

            appsink = {
                property = {
                    sync = FALSE
                }
            }

            bins = {
                video = {
                    definition = appsrc name=video ! queue ! videoscale ! queue ! x264enc ! queue ! muxer.
                }
                audio = {
                    definition = appsrc name=audio ! audioconvert ! faac name=faac1 ! queue ! muxer.
                }
                muxer = {
                    definition = mpegtsmux name=muxer ! queue ! appsink
                }
            }
        }
    }
}

channel4 = {
    enable = <var name="enable" type="option">no</var>

    # source pipeline defination
    source = {
        udpsrc = {
            property = {
                uri = <var name="udp source address" type="string">udp://127.0.0.1:6002</var>
            }
        }

        deinterlace = {
            property = {
                method = 0
                fields = 1
            }
        }

        audioconvert = {
            caps = audio/x-raw-int,width=16,depth=16,rate=48000,channels=2,endianness=1234
        }


        appsink = {
            property = {
               sync = FALSE
               drop = TRUE
            }
        }

        # element can be customized by elemment(property=vlue, ...)
        bins = {
            mpegtsdemuxer = {
                # dont link a sometimes pad directly.
                definition = udpsrc ! queue ! mpegtsdemux name=demuxer
            }
            video = {
                definition = demuxer.<var name="video pid" type="string">video_18c4</var> ! queue ! <var name="video decoder" type="[h264dec, ffdec_mpeg2video]">ffdec_mpeg2video</var> ! queue ! appsink
            }
            audio = {
                definition = demuxer.<var name="audio pid" type="string">audio_18c5</var> ! queue ! <var name="audio decoder" type="[mad, ffdec_ac3]">ffdec_ac3</var> ! queue ! appsink
            }
        }
    }

    # encoder pipeline defination
    encoders = {
        encoder1 = {
            appsrc = {
                property = {
                    is-live = TRUE
                }
            }

            videoscale = {
                caps = video/x-raw-yuv,width=<var name="width" type="number">1280</var>,height=<var name="height" type="number">720</var>
            }

            # x264 encoder element
            x264enc = {
                property = {
                    name = x264enc
                    bitrate = <var name="bitrate" type="number">1500</var>
                    byte-stream = TRUE
                    sync-lookahead = 20
                    key-int-max = 250
                    key-int-min = 250
                    dct8x8 = TRUE
                    psy-tune = film
                    subme = 5
                    qp-min = 1
                    qp-step = 8
                    pass = 17
                    threads = 24
                    bframes = 3
                    profile = <var name="profile" type="[baseline, main, high]">high</var>
                }
            }

            # faac audio encoder
            faac = {
                property = {
                    name = faac
                    outputformat = 1
                }
            }

            # mpeg2 ts mux
            mpegtsmux = {
                property = {
                    name = muxer
                }
            }

            appsink = {
                property = {
                    sync = FALSE
                }
            }

            bins = {
                video = {
                    definition = appsrc name=video ! queue ! videoscale ! queue ! x264enc ! queue ! muxer.
                }
                audio = {
                    definition = appsrc name=audio ! audioconvert ! faac name=faac1 ! queue ! muxer.
                }
                muxer = {
                    definition = mpegtsmux name=muxer ! queue ! appsink
                }
            }
        }

        encoder2 = {
            appsrc = {
                property = {
                    is-live = TRUE
                }
            }

            videoscale = {
                caps = video/x-raw-yuv,width=<var name="width" type="number">720</var>,height=<var name="height" type="number">576</var>
            }

            # x264 encoder element
            x264enc = {
                property = {
                    name = x264enc
                    bitrate = <var name="bitrate" type="number">1200</var>
                    byte-stream = TRUE
                    sync-lookahead = 20
                    key-int-max = 250
                    key-int-min = 250
                    dct8x8 = TRUE
                    psy-tune = film
                    subme = 5
                    qp-min = 1
                    qp-step = 8
                    pass = 17
                    threads = 24
                    bframes = 3
                    profile = <var name="profile" type="[baseline, main, high]">high</var>
                }
            }

            # faac audio encoder
            faac = {
                property = {
                    name = faac
                    outputformat = 1
                }
            }

            # mpeg2 ts mux
            mpegtsmux = {
                property = {
                    name = muxer
                }
            }

            appsink = {
                property = {
                    sync = FALSE
                }
            }

            bins = {
                video = {
                    definition = appsrc name=video ! queue ! videoscale ! queue ! x264enc ! queue ! muxer.
                }
                audio = {
                    definition = appsrc name=audio ! audioconvert ! faac name=faac1 ! queue ! muxer.
                }
                muxer = {
                    definition = mpegtsmux name=muxer ! queue ! appsink
                }
            }
        }

    }
}

channel5 = {
    enable = <var name="enable" type="option">no</var>

    # source pipeline defination
    source = {
        udpsrc = {
            property = {
                uri = <var name="udpsrc uri" type="string">udp://127.0.0.1:6003</var>
            }
        }

        deinterlace = {
            property = {
                method = 0
                fields = 1
            }
        }

        audioconvert = {
            caps = audio/x-raw-int,width=16,depth=16,rate=48000,channels=2,endianness=1234
        }

        appsink = {
            property = {
               sync = FALSE
               drop = TRUE
            }
        }

        # element can be customized by elemment(property=vlue, ...)
        bins = {
            mpegtsdemuxer = {
                # dont link a sometimes pad directly.
                definition = udpsrc ! mpegtsdemux name=demuxer
            }
            video = {
                definition = demuxer.<var name="video pid" type="string">video_0201</var> ! queue ! <var name="video decoder" type="[h264dec, ffdec_mpeg2video]">h264dec</var> ! queue ! appsink
                option = yes
            }
            audio = {
                definition = demuxer.audio_026d ! queue ! mad ! queue ! appsink
            }
        }
    }

    # encoder pipeline defination
    encoders = {
        encoder1 = {
            appsrc = {
                property = {
                    is-live = TRUE
                }
            }

            videoscale = {
                caps = video/x-raw-yuv,width=<var name="width" type="number">1280</var>,height=<var name="height" type="number">720</var>
            }

            # x264 encoder element
            x264enc = {
                property = {
                    name = x264enc
                    bitrate = <var name="bitrate" type="number">1500</var>
                    byte-stream = TRUE
                    sync-lookahead = 20
                    key-int-max = 250
                    key-int-min = 250
                    dct8x8 = TRUE
                    psy-tune = film
                    subme = 5
                    qp-min = 1
                    qp-step = 8
                    pass = 17
                    threads = 24
                    bframes = 3
                    profile = <var name="profile" type="[baseline, main, high]">high</var>
                }
            }

            # faac audio encoder
            faac = {
                property = {
                    name = faac
                    outputformat = 1
                }
            }

            # mpeg2 ts mux
            mpegtsmux = {
                property = {
                    name = muxer
                }
            }

            appsink = {
                property = {
                    sync = FALSE
                }
            }

            bins = {
                video = {
                    definition = appsrc name=video ! queue ! videoscale ! queue ! x264enc ! queue ! muxer.
                }
                audio = {
                    definition = appsrc name=audio ! audioconvert ! faac name=faac1 ! queue ! muxer.
                }
                muxer = {
                    definition = mpegtsmux name=muxer ! queue ! appsink
                }
            }
        }
        encoder2 = {
            appsrc = {
                property = {
                    is-live = TRUE
                }
            }

            videoscale = {
                caps = video/x-raw-yuv,width=<var name="width" type="number">720</var>,height=<var name="height" type="number">576</var>
            }

            # x264 encoder element
            x264enc = {
                property = {
                    name = x264enc
                    bitrate = <var name="bitrate" type="number">1200</var>
                    byte-stream = TRUE
                    sync-lookahead = 20
                    key-int-max = 250
                    key-int-min = 250
                    dct8x8 = TRUE
                    psy-tune = film
                    subme = 5
                    qp-min = 1
                    qp-step = 8
                    pass = 17
                    threads = 24
                    bframes = 3
                    profile = <var name="profile" type="[baseline, main, high]">high</var>
                }
            }

            # faac audio encoder
            faac = {
                property = {
                    name = faac
                    outputformat = 1
                }
            }

            # mpeg2 ts mux
            mpegtsmux = {
                property = {
                    name = muxer
                }
            }

            appsink = {
                property = {
                    sync = FALSE
                }
            }

            bins = {
                video = {
                    definition = appsrc name=video ! queue ! videoscale ! queue ! x264enc ! queue ! muxer.
                }
                audio = {
                    definition = appsrc name=audio ! audioconvert ! faac name=faac1 ! queue ! muxer.
                }
                muxer = {
                    definition = mpegtsmux name=muxer ! queue ! appsink
                }
            }
        }
    }
}

channel6 = {
    enable = <var name="enable" type="option">no</var>

    # source pipeline defination
    source = {
        udpsrc = {
            property = {
                uri = <var name="udp source address" type="string">udp://127.0.0.1:6002</var>
            }
        }

        deinterlace = {
            property = {
                method = 0
                fields = 1
            }
        }

        audioconvert = {
            caps = audio/x-raw-int,width=16,depth=16,rate=48000,channels=2,endianness=1234
        }


        appsink = {
            property = {
               sync = FALSE
               drop = TRUE
            }
        }

        # element can be customized by elemment(property=vlue, ...)
        bins = {
            mpegtsdemuxer = {
                # dont link a sometimes pad directly.
                definition = udpsrc ! queue ! mpegtsdemux name=demuxer
            }
            video = {
                definition = demuxer.<var name="video pid" type="string">video_18c4</var> ! queue ! <var name="video decoder" type="[h264dec, ffdec_mpeg2video]">ffdec_mpeg2video</var> ! queue ! appsink
            }
            audio = {
                definition = demuxer.<var name="audio pid" type="string">audio_18c5</var> ! queue ! <var name="audio decoder" type="[mad, ffdec_ac3]">ffdec_ac3</var> ! queue ! appsink
            }
        }
    }

    # encoder pipeline defination
    encoders = {
        encoder1 = {
            appsrc = {
                property = {
                    is-live = TRUE
                }
            }

            videoscale = {
                caps = video/x-raw-yuv,width=<var name="width" type="number">1280</var>,height=<var name="height" type="number">720</var>
            }

            # x264 encoder element
            x264enc = {
                property = {
                    name = x264enc
                    bitrate = <var name="bitrate" type="number">1500</var>
                    byte-stream = TRUE
                    sync-lookahead = 20
                    key-int-max = 250
                    key-int-min = 250
                    dct8x8 = TRUE
                    psy-tune = film
                    subme = 5
                    qp-min = 1
                    qp-step = 8
                    pass = 17
                    threads = 24
                    bframes = 3
                    profile = <var name="profile" type="[baseline, main, high]">high</var>
                }
            }

            # faac audio encoder
            faac = {
                property = {
                    name = faac
                    outputformat = 1
                }
            }

            # mpeg2 ts mux
            mpegtsmux = {
                property = {
                    name = muxer
                }
            }

            appsink = {
                property = {
                    sync = FALSE
                }
            }

            bins = {
                video = {
                    definition = appsrc name=video ! queue ! videoscale ! queue ! x264enc ! queue ! muxer.
                }
                audio = {
                    definition = appsrc name=audio ! audioconvert ! faac name=faac1 ! queue ! muxer.
                }
                muxer = {
                    definition = mpegtsmux name=muxer ! queue ! appsink
                }
            }
        }

        encoder2 = {
            appsrc = {
                property = {
                    is-live = TRUE
                }
            }

            videoscale = {
                caps = video/x-raw-yuv,width=<var name="width" type="number">720</var>,height=<var name="height" type="number">576</var>
            }

            # x264 encoder element
            x264enc = {
                property = {
                    name = x264enc
                    bitrate = <var name="bitrate" type="number">1200</var>
                    byte-stream = TRUE
                    sync-lookahead = 20
                    key-int-max = 250
                    key-int-min = 250
                    dct8x8 = TRUE
                    psy-tune = film
                    subme = 5
                    qp-min = 1
                    qp-step = 8
                    pass = 17
                    threads = 24
                    bframes = 3
                    profile = <var name="profile" type="[baseline, main, high]">high</var>
                }
            }

            # faac audio encoder
            faac = {
                property = {
                    name = faac
                    outputformat = 1
                }
            }

            # mpeg2 ts mux
            mpegtsmux = {
                property = {
                    name = muxer
                }
            }

            appsink = {
                property = {
                    sync = FALSE
                }
            }

            bins = {
                video = {
                    definition = appsrc name=video ! queue ! videoscale ! queue ! x264enc ! queue ! muxer.
                }
                audio = {
                    definition = appsrc name=audio ! audioconvert ! faac name=faac1 ! queue ! muxer.
                }
                muxer = {
                    definition = mpegtsmux name=muxer ! queue ! appsink
                }
            }
        }

    }
}

channel7 = {
    enable = <var name="enable" type="option">no</var>

    # source pipeline defination
    source = {
        udpsrc = {
            property = {
                uri = <var name="udpsrc uri" type="string">udp://127.0.0.1:6003</var>
            }
        }

        deinterlace = {
            property = {
                method = 0
                fields = 1
            }
        }

        audioconvert = {
            caps = audio/x-raw-int,width=16,depth=16,rate=48000,channels=2,endianness=1234
        }

        appsink = {
            property = {
               sync = FALSE
               drop = TRUE
            }
        }

        # element can be customized by elemment(property=vlue, ...)
        bins = {
            mpegtsdemuxer = {
                # dont link a sometimes pad directly.
                definition = udpsrc ! mpegtsdemux name=demuxer
            }
            video = {
                definition = demuxer.<var name="video pid" type="string">video_0201</var> ! queue ! <var name="video decoder" type="[h264dec, ffdec_mpeg2video]">h264dec</var> ! queue ! appsink
                option = yes
            }
            audio = {
                definition = demuxer.audio_026d ! queue ! mad ! queue ! appsink
            }
        }
    }

    # encoder pipeline defination
    encoders = {
        encoder1 = {
            appsrc = {
                property = {
                    is-live = TRUE
                }
            }

            videoscale = {
                caps = video/x-raw-yuv,width=<var name="width" type="number">1280</var>,height=<var name="height" type="number">720</var>
            }

            # x264 encoder element
            x264enc = {
                property = {
                    name = x264enc
                    bitrate = <var name="bitrate" type="number">1500</var>
                    byte-stream = TRUE
                    sync-lookahead = 20
                    key-int-max = 250
                    key-int-min = 250
                    dct8x8 = TRUE
                    psy-tune = film
                    subme = 5
                    qp-min = 1
                    qp-step = 8
                    pass = 17
                    threads = 24
                    bframes = 3
                    profile = <var name="profile" type="[baseline, main, high]">high</var>
                }
            }

            # faac audio encoder
            faac = {
                property = {
                    name = faac
                    outputformat = 1
                }
            }

            # mpeg2 ts mux
            mpegtsmux = {
                property = {
                    name = muxer
                }
            }

            appsink = {
                property = {
                    sync = FALSE
                }
            }

            bins = {
                video = {
                    definition = appsrc name=video ! queue ! videoscale ! queue ! x264enc ! queue ! muxer.
                }
                audio = {
                    definition = appsrc name=audio ! audioconvert ! faac name=faac1 ! queue ! muxer.
                }
                muxer = {
                    definition = mpegtsmux name=muxer ! queue ! appsink
                }
            }
        }
        encoder2 = {
            appsrc = {
                property = {
                    is-live = TRUE
                }
            }

            videoscale = {
                caps = video/x-raw-yuv,width=<var name="width" type="number">720</var>,height=<var name="height" type="number">576</var>
            }

            # x264 encoder element
            x264enc = {
                property = {
                    name = x264enc
                    bitrate = <var name="bitrate" type="number">1200</var>
                    byte-stream = TRUE
                    sync-lookahead = 20
                    key-int-max = 250
                    key-int-min = 250
                    dct8x8 = TRUE
                    psy-tune = film
                    subme = 5
                    qp-min = 1
                    qp-step = 8
                    pass = 17
                    threads = 24
                    bframes = 3
                    profile = <var name="profile" type="[baseline, main, high]">high</var>
                }
            }

            # faac audio encoder
            faac = {
                property = {
                    name = faac
                    outputformat = 1
                }
            }

            # mpeg2 ts mux
            mpegtsmux = {
                property = {
                    name = muxer
                }
            }

            appsink = {
                property = {
                    sync = FALSE
                }
            }

            bins = {
                video = {
                    definition = appsrc name=video ! queue ! videoscale ! queue ! x264enc ! queue ! muxer.
                }
                audio = {
                    definition = appsrc name=audio ! audioconvert ! faac name=faac1 ! queue ! muxer.
                }
                muxer = {
                    definition = mpegtsmux name=muxer ! queue ! appsink
                }
            }
        }
    }
}

channel8 = {
    enable = <var name="enable" type="option">no</var>

    # source pipeline defination
    source = {
        udpsrc = {
            property = {
                uri = <var name="udp source address" type="string">udp://127.0.0.1:6002</var>
            }
        }

        deinterlace = {
            property = {
                method = 0
                fields = 1
            }
        }

        audioconvert = {
            caps = audio/x-raw-int,width=16,depth=16,rate=48000,channels=2,endianness=1234
        }


        appsink = {
            property = {
               sync = FALSE
               drop = TRUE
            }
        }

        # element can be customized by elemment(property=vlue, ...)
        bins = {
            mpegtsdemuxer = {
                # dont link a sometimes pad directly.
                definition = udpsrc ! queue ! mpegtsdemux name=demuxer
            }
            video = {
                definition = demuxer.<var name="video pid" type="string">video_18c4</var> ! queue ! <var name="video decoder" type="[h264dec, ffdec_mpeg2video]">ffdec_mpeg2video</var> ! queue ! appsink
            }
            audio = {
                definition = demuxer.<var name="audio pid" type="string">audio_18c5</var> ! queue ! <var name="audio decoder" type="[mad, ffdec_ac3]">ffdec_ac3</var> ! queue ! appsink
            }
        }
    }

    # encoder pipeline defination
    encoders = {
        encoder1 = {
            appsrc = {
                property = {
                    is-live = TRUE
                }
            }

            videoscale = {
                caps = video/x-raw-yuv,width=<var name="width" type="number">1280</var>,height=<var name="height" type="number">720</var>
            }

            # x264 encoder element
            x264enc = {
                property = {
                    name = x264enc
                    bitrate = <var name="bitrate" type="number">1500</var>
                    byte-stream = TRUE
                    sync-lookahead = 20
                    key-int-max = 250
                    key-int-min = 250
                    dct8x8 = TRUE
                    psy-tune = film
                    subme = 5
                    qp-min = 1
                    qp-step = 8
                    pass = 17
                    threads = 24
                    bframes = 3
                    profile = <var name="profile" type="[baseline, main, high]">high</var>
                }
            }

            # faac audio encoder
            faac = {
                property = {
                    name = faac
                    outputformat = 1
                }
            }

            # mpeg2 ts mux
            mpegtsmux = {
                property = {
                    name = muxer
                }
            }

            appsink = {
                property = {
                    sync = FALSE
                }
            }

            bins = {
                video = {
                    definition = appsrc name=video ! queue ! videoscale ! queue ! x264enc ! queue ! muxer.
                }
                audio = {
                    definition = appsrc name=audio ! audioconvert ! faac name=faac1 ! queue ! muxer.
                }
                muxer = {
                    definition = mpegtsmux name=muxer ! queue ! appsink
                }
            }
        }

        encoder2 = {
            appsrc = {
                property = {
                    is-live = TRUE
                }
            }

            videoscale = {
                caps = video/x-raw-yuv,width=<var name="width" type="number">720</var>,height=<var name="height" type="number">576</var>
            }

            # x264 encoder element
            x264enc = {
                property = {
                    name = x264enc
                    bitrate = <var name="bitrate" type="number">1200</var>
                    byte-stream = TRUE
                    sync-lookahead = 20
                    key-int-max = 250
                    key-int-min = 250
                    dct8x8 = TRUE
                    psy-tune = film
                    subme = 5
                    qp-min = 1
                    qp-step = 8
                    pass = 17
                    threads = 24
                    bframes = 3
                    profile = <var name="profile" type="[baseline, main, high]">high</var>
                }
            }

            # faac audio encoder
            faac = {
                property = {
                    name = faac
                    outputformat = 1
                }
            }

            # mpeg2 ts mux
            mpegtsmux = {
                property = {
                    name = muxer
                }
            }

            appsink = {
                property = {
                    sync = FALSE
                }
            }

            bins = {
                video = {
                    definition = appsrc name=video ! queue ! videoscale ! queue ! x264enc ! queue ! muxer.
                }
                audio = {
                    definition = appsrc name=audio ! audioconvert ! faac name=faac1 ! queue ! muxer.
                }
                muxer = {
                    definition = mpegtsmux name=muxer ! queue ! appsink
                }
            }
        }

    }
}

channel9 = {
    enable = <var name="enable" type="option">no</var>

    # source pipeline defination
    source = {
        udpsrc = {
            property = {
                uri = <var name="udpsrc uri" type="string">udp://127.0.0.1:6003</var>
            }
        }

        deinterlace = {
            property = {
                method = 0
                fields = 1
            }
        }

        audioconvert = {
            caps = audio/x-raw-int,width=16,depth=16,rate=48000,channels=2,endianness=1234
        }

        appsink = {
            property = {
               sync = FALSE
               drop = TRUE
            }
        }

        # element can be customized by elemment(property=vlue, ...)
        bins = {
            mpegtsdemuxer = {
                # dont link a sometimes pad directly.
                definition = udpsrc ! mpegtsdemux name=demuxer
            }
            video = {
                definition = demuxer.<var name="video pid" type="string">video_0201</var> ! queue ! <var name="video decoder" type="[h264dec, ffdec_mpeg2video]">h264dec</var> ! queue ! appsink
                option = yes
            }
            audio = {
                definition = demuxer.audio_026d ! queue ! mad ! queue ! appsink
            }
        }
    }

    # encoder pipeline defination
    encoders = {
        encoder1 = {
            appsrc = {
                property = {
                    is-live = TRUE
                }
            }

            videoscale = {
                caps = video/x-raw-yuv,width=<var name="width" type="number">1280</var>,height=<var name="height" type="number">720</var>
            }

            # x264 encoder element
            x264enc = {
                property = {
                    name = x264enc
                    bitrate = <var name="bitrate" type="number">1500</var>
                    byte-stream = TRUE
                    sync-lookahead = 20
                    key-int-max = 250
                    key-int-min = 250
                    dct8x8 = TRUE
                    psy-tune = film
                    subme = 5
                    qp-min = 1
                    qp-step = 8
                    pass = 17
                    threads = 24
                    bframes = 3
                    profile = <var name="profile" type="[baseline, main, high]">high</var>
                }
            }

            # faac audio encoder
            faac = {
                property = {
                    name = faac
                    outputformat = 1
                }
            }

            # mpeg2 ts mux
            mpegtsmux = {
                property = {
                    name = muxer
                }
            }

            appsink = {
                property = {
                    sync = FALSE
                }
            }

            bins = {
                video = {
                    definition = appsrc name=video ! queue ! videoscale ! queue ! x264enc ! queue ! muxer.
                }
                audio = {
                    definition = appsrc name=audio ! audioconvert ! faac name=faac1 ! queue ! muxer.
                }
                muxer = {
                    definition = mpegtsmux name=muxer ! queue ! appsink
                }
            }
        }
        encoder2 = {
            appsrc = {
                property = {
                    is-live = TRUE
                }
            }

            videoscale = {
                caps = video/x-raw-yuv,width=<var name="width" type="number">720</var>,height=<var name="height" type="number">576</var>
            }

            # x264 encoder element
            x264enc = {
                property = {
                    name = x264enc
                    bitrate = <var name="bitrate" type="number">1200</var>
                    byte-stream = TRUE
                    sync-lookahead = 20
                    key-int-max = 250
                    key-int-min = 250
                    dct8x8 = TRUE
                    psy-tune = film
                    subme = 5
                    qp-min = 1
                    qp-step = 8
                    pass = 17
                    threads = 24
                    bframes = 3
                    profile = <var name="profile" type="[baseline, main, high]">high</var>
                }
            }

            # faac audio encoder
            faac = {
                property = {
                    name = faac
                    outputformat = 1
                }
            }

            # mpeg2 ts mux
            mpegtsmux = {
                property = {
                    name = muxer
                }
            }

            appsink = {
                property = {
                    sync = FALSE
                }
            }

            bins = {
                video = {
                    definition = appsrc name=video ! queue ! videoscale ! queue ! x264enc ! queue ! muxer.
                }
                audio = {
                    definition = appsrc name=audio ! audioconvert ! faac name=faac1 ! queue ! muxer.
                }
                muxer = {
                    definition = mpegtsmux name=muxer ! queue ! appsink
                }
            }
        }
    }
}
