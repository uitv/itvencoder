{
    "_comment_": "itvencoder config file, json type. use key-definition to define key, its useful for web management application",
    "name": "cctv-news",
    "name-definition": {
        "type": "string"
    },
    "output-channel-number": 2,
    "decoder-pipeline": {
        "_comment_": "decoder pipeline template is variable according video codec and audio codec type",
        "selectable-keys": ["video-codec", "audio-codec"],
        "video-codec": "h.264",
        "video-codec-definition": {
            "value": ["mpeg2", "h.264"]
        },
        "audio-codec": "mpeg",
        "h.264-mpeg": {
            "pipeline-template": "udpsrc uri=<%uri%> ! queue ! mpegtsdemux name=demuxer program-number=<%program-number%> ! queue ! mpeg2dec ! queue ! appsink name=videosink demuxer. ! queue ! mad ! appsink name=audiosink",
            "uri": "udp://172.16.0.9:1234",
            "program-number": 128
        }
    },
    "encoder-pipeline-1": {
        "selectable-keys": ["video-codec", "audio-codec", "mux"],
        "video-codec": "h.264",
        "video-codec-definition": {
            "value": ["h.264", "mpeg4"]
        },
        "audio-codec": "aac",
        "mux": "mpeg2ts",
        "h.264-aac-mpeg2ts": {
            "pipeline-template": "appsrc name=videosrc is-live=true ! video/x-raw-yuv,width=720,height=576,format=(fourcc)I420,framerate=(fraction)25/1 ! x264enc byte-stream=true pass=17 threads=2 bitrate=<%bitrate%> bframes=<%b-frames-number%> vbv-buf-capacity=3000 profile=<%profile%> ! mpegtsmux name=muxer ! queue ! appsink name=encodersink appsrc name=audiosrc is-live=true ! audio/x-raw-int,endianness=1234,signed=true,width=16,depth=16,rate=96000,channels=6 ! queue ! faac outputformat=1 profile=1 ! queue ! muxer.",
            "profile": "baseline",
            "gop-size": 1,
            "resolution": "576p",
            "width": 720,
            "height": 576,
            "audio-codec": "aac",
            "video-codec": "h.264",
            "frames-per-second": 25,
            "reference-frames-number": 3,
            "b-frames-number": 3,
            "bitrate": 300,
            "output-protocol": "http"
        }
    }
}
